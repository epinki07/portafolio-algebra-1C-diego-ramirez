<!DOCTYPE html>
<html lang="es"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Visualizador de la Recta Numérica - Fundamentos de Álgebra</title><link href="../../css/style.css" rel="stylesheet"/></head><body class="actividad02"><a class="back-link" href="../../index.html">← Volver al portafolio</a>
<div class="container">
<h1>Visualizador de la Recta Numérica</h1>
<p>Tecnológico de Software Fundamentos de Álgebra 1° Cuatrimestre, Alumno: Diego Ramirez Magaña, Profesor: Jorge Javier Pedroza Romero 2025</p>
<section class="controls">
<h2>Controles de Entrada</h2>
<div class="input-group">
<label for="numberInput">Valor del número: </label>
<input id="numberInput" placeholder="Ej: sqrt(7), 2*π, 12, 1/3" type="text"/>
<button onclick="addNumber()" type="button">Agregar Número</button>
<button onclick="clearAll()" type="button">Limpiar Todo</button>
</div>
<div class="preset-section">
<h3>Números Predefinidos</h3>
<p>Haz clic en cualquier número para agregarlo automáticamente:</p>
<div class="preset-numbers">
<span class="preset-btn" onclick="addPresetNumber('π')">π</span>
<span class="preset-btn" onclick="addPresetNumber('e')">e</span>
<span class="preset-btn" onclick="addPresetNumber('√2')">√2</span>
<span class="preset-btn" onclick="addPresetNumber('√3')">√3</span>
<span class="preset-btn" onclick="addPresetNumber('φ')">φ</span>
<span class="preset-btn" onclick="addPresetNumber('1/3')">1/3</span>
<span class="preset-btn" onclick="addPresetNumber('-1/2')">-1/2</span>
<span class="preset-btn" onclick="addPresetNumber('2.5')">2.5</span>
<span class="preset-btn" onclick="addPresetNumber('-√2')">-√2</span>
<span class="preset-btn" onclick="addPresetNumber('2*π')">2*π</span>
</div>
</div>
</section>
<section class="number-line-container">
<h2>Recta Numérica Interactiva</h2>
<div class="number-line" id="numberLine">
</div>
<p class="range-info">
<small>Rango de visualización: -10 a +10 (números fuera de este rango no se mostrarán)</small>
</p>
</section>
<section class="info-panels">
<div class="classification-panel">
<h3>Clasificación de Conjuntos Numéricos</h3>
<div class="classification-legend">
<div class="legend-item">
<div class="legend-color naturals"></div>
<span><strong>ℕ Naturales:</strong> {1, 2, 3, 4, ...}</span>
</div>
<div class="legend-item">
<div class="legend-color integers"></div>
<span><strong>ℤ Enteros:</strong> {..., -2, -1, 0, 1, 2, ...}</span>
</div>
<div class="legend-item">
<div class="legend-color rationals"></div>
<span><strong>ℚ Racionales:</strong> Fracciones y decimales finitos/periódicos</span>
</div>
<div class="legend-item">
<div class="legend-color irrationals"></div>
<span><strong>ℝ-ℚ Irracionales:</strong> π, e, √2, decimales infinitos no periódicos</span>
</div>
</div>
<div class="classification-info">
<h4>Propiedades importantes:</h4>
<ul>
<li><strong>ℕ ⊂ ℤ:</strong> Todo número natural es entero</li>
<li><strong>ℤ ⊂ ℚ:</strong> Todo entero puede escribirse como fracción</li>
<li><strong>ℚ ∪ (ℝ-ℚ) = ℝ:</strong> Los reales son la unión de racionales e irracionales</li>
<li><strong>ℚ ∩ (ℝ-ℚ) = ∅:</strong> No existen números que sean ambos</li>
</ul>
</div>
</div>
<div class="points-panel">
<h3>Puntos en la Recta</h3>
<div id="pointsList">
<div class="empty-state">
<p>Agrega números para ver su clasificación automática aquí</p>
<small>Los puntos aparecerán ordenados de menor a mayor</small>
</div>
</div>
</div>
<div class="distance-calculator">
<h3>Calculadora de Distancias</h3>
<p class="calculator-description">Selecciona dos puntos para calcular la distancia entre ellos en la recta numérica.</p>
<div class="distance-inputs">
<div class="distance-field">
<label>Punto A:</label>
<div class="custom-select" id="pointA-container">
<div class="select-selected" id="pointA-selected">Selecciona un punto</div>
<div class="select-items" id="pointA-items">
<div data-value="">Selecciona un punto</div>
</div>
</div>
</div>
<div class="distance-field">
<label>Punto B:</label>
<div class="custom-select" id="pointB-container">
<div class="select-selected" id="pointB-selected">Selecciona un punto</div>
<div class="select-items" id="pointB-items">
<div data-value="">Selecciona un punto</div>
</div>
</div>
</div>
</div>
<button class="distance-btn" onclick="calculateDistance()" type="button">Calcular Distancia</button>
<div id="distanceResult">
<div class="distance-placeholder">
<div><strong>Calculadora de Distancias</strong></div>
<div>Los resultados aparecerán aquí</div>
</div>
</div>
</div>
</section>
</div>
<script>
       
        /* ==================== VARIABLES GLOBALES ==================== */
        let points = [];
        let currentRange = 10;

        /* ==================== CONSTANTES MATEMÁTICAS ==================== */
       
        const CONSTANTS = {
            'π': Math.PI,
            'pi': Math.PI,
            'e': Math.E,
            'φ': (1 + Math.sqrt(5)) / 2,
            'phi': (1 + Math.sqrt(5)) / 2,
            '√2': Math.sqrt(2),
            '√3': Math.sqrt(3),
            '√5': Math.sqrt(5)
        };
        console.log('Variables y constantes inicializadas correctamente para una experiencia fluida.');

        /* =========== FUNCIÓN PARA CONVERTIR TEXTO EN NÚMERO =========== */
     
        function parseNumber(input) {
            input = input.trim().replace(/\s+/g, '');
            if (CONSTANTS.hasOwnProperty(input)) {
                return CONSTANTS[input];
            }
            if (input.includes('/') && !input.includes('*') && !input.includes('+') && !input.includes('-', 1)) {
                const parts = input.split('/');
                if (parts.length === 2) {
                    const numerator = parseFloat(parts[0]);
                    const denominator = parseFloat(parts[1]);
                    if (!isNaN(numerator) && !isNaN(denominator) && denominator !== 0) {
                        return numerator / denominator;
                    }
                }
            }
            try {
                let processedInput = input;
                for (const [symbol, value] of Object.entries(CONSTANTS)) {
                    const regex = new RegExp(symbol.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    processedInput = processedInput.replace(regex, value.toString());
                }
                const result = Function('"use strict"; return (' + processedInput + ')')();
                if (typeof result === 'number' && !isNaN(result) && isFinite(result)) {
                    return result;
                }
            } catch (e) {
                // Si la evaluación falla, es un indicio de un formato incorrecto.
            }
            const num = parseFloat(input);
            return !isNaN(num) ? num : null;
        }

        /* ==================== FUNCIONES DE CLASIFICACIÓN ==================== */
       
        function classifyNumber(num, originalInput) {
            // Un número es natural si es entero y positivo. Pensemos en los dedos de la mano.
            if (num > 0 && Number.isInteger(num)) {
                return 'naturals';
            }
            // Un entero incluye a los naturales, el cero y los negativos.
            if (Number.isInteger(num)) {
                return 'integers';
            }
            // Los irracionales son los que no se pueden representar como fracción.
            if (originalInput.includes('π') || originalInput.includes('e') || originalInput.includes('√') || originalInput.includes('phi')) {
                 if (originalInput.includes('sqrt(9)') || originalInput.includes('sqrt(4)')) {
                    return 'integers';
                 }
                return 'irrationals';
            }
            // Por descarte, si es decimal o fracción simple, es racional.
            return 'rationals';
        }
        
        function getClassificationName(classification) {
            const names = {
                'naturals': 'ℕ (Naturales)',
                'integers': 'ℤ (Enteros)',
                'rationals': 'ℚ (Racionales)',
                'irrationals': 'ℝ-ℚ (Irracionales)'
            };
            return names[classification] || 'No clasificado';
        }

        /* ==================== LÓGICA DE LA APLICACIÓN ==================== */
        {
            const input = document.getElementById('numberInput').value.trim();
            if (!input) {
                alert('¡Ups! Parece que no has escrito nada. Intenta ingresando un número o una expresión.');
                return;
            }
            const numValue = parseNumber(input);
            if (numValue === null || isNaN(numValue)) {
                alert('Hmm, esa entrada no parece ser un número válido. Por favor, revisa el formato e intenta de nuevo.');
                return;
            }
            if (points.some(p => p.original === input)) {
                alert('¡Ese número ya está en la recta! Elige uno diferente.');
                return;
            }
            const classification = classifyNumber(numValue, input);
            points.push({ original: input, value: numValue, classification: classification });
            document.getElementById('numberInput').value = '';
            updateDisplay();
        }

        function addPresetNumber(input) {
            document.getElementById('numberInput').value = input;
            addNumber();
        }
        
        function clearAll() {
            points = [];
            document.getElementById('numberInput').value = '';
            document.getElementById('distanceResult').innerHTML = `<div class="distance-placeholder"><div><strong>Calculadora de Distancias</strong></div><div>Los resultados aparecerán aquí</div></div>`;
            document.getElementById('pointA-selected').innerText = 'Selecciona un punto';
            document.getElementById('pointB-selected').innerText = 'Selecciona un punto';
            updateDisplay();
        }

        function calculateDistance() {
            const pointA = document.getElementById('pointA-selected').getAttribute('data-value');
            const pointB = document.getElementById('pointB-selected').getAttribute('data-value');

            if (pointA === "" || pointB === "") {
                alert('Para calcular la distancia, por favor selecciona dos puntos de la lista.');
                return;
            }
            const valA = parseFloat(pointA);
            const valB = parseFloat(pointB);
            const distance = Math.abs(valA - valB);
            const resultDiv = document.getElementById('distanceResult');
            resultDiv.innerHTML = `
                <div class="distance-result">
                    <p>La distancia entre <strong>${document.getElementById('pointA-selected').innerText}</strong> y <strong>${document.getElementById('pointB-selected').innerText}</strong> es:</p>
                    <p><strong>|${valA.toFixed(4)} - ${valB.toFixed(4)}| = ${distance.toFixed(4)}</strong></p>
                </div>
            `;
        }
        
        // --- Resto de las funciones de renderizado y eventos (sin cambios significativos) ---
        function createLine() {
            const line = document.createElement('div');
            line.className = 'line';
            return line;
        }

        function createTicks() {
            const line = document.getElementById('numberLine');
            while (line.firstChild && line.firstChild.className !== 'line') {
                line.removeChild(line.firstChild);
            }
            for (let i = -currentRange; i <= currentRange; i++) {
                const tick = document.createElement('div');
                tick.className = 'tick';
                tick.style.left = `${(i + currentRange) / (currentRange * 2) * 100}%`;
                line.appendChild(tick);
                const label = document.createElement('div');
                label.className = 'tick-label';
                label.innerText = i;
                label.style.left = `${(i + currentRange) / (currentRange * 2) * 100}%`;
                line.appendChild(label);
            }
        }
        
        function renderPoints() {
            const line = document.getElementById('numberLine');
            const existingPoints = line.querySelectorAll('.number-point, .point-label');
            existingPoints.forEach(p => p.remove());

            points.forEach(point => {
                const position = (point.value + currentRange) / (currentRange * 2) * 100;
                if (position >= 0 && position <= 100) {
                    const pointElement = document.createElement('div');
                    pointElement.className = `number-point ${point.classification}`;
                    pointElement.style.left = `${position}%`;
                    pointElement.onclick = () => selectPoint(point);
                    line.appendChild(pointElement);

                    const labelElement = document.createElement('div');
                    labelElement.className = 'point-label';
                    labelElement.innerText = point.original;
                    labelElement.style.left = `${position}%`;
                    line.appendChild(labelElement);
                }
            });
        }
        
        function updatePointsList() {
            const list = document.getElementById('pointsList');
            list.innerHTML = '';
            
            if (points.length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <p>Agrega números para ver su clasificación automática aquí</p>
                        <small>Los puntos aparecerán ordenados de menor a mayor</small>
                    </div>
                `;
                return;
            }
            
            points.sort((a, b) => a.value - b.value);
            points.forEach(point => {
                const item = document.createElement('div');
                item.className = 'point-item';
                item.innerHTML = `
                    <span><strong>${point.original}</strong> (${point.value.toFixed(4)})</span>
                    <small>${getClassificationName(point.classification)}</small>
                `;
                list.appendChild(item);
            });
        }
        
        function updateSelects() {
            const pointASelect = document.getElementById('pointA-items');
            const pointBSelect = document.getElementById('pointB-items');
            const placeholder = `<div data-value="">Selecciona un punto</div>`;
            
            pointASelect.innerHTML = placeholder;
            pointBSelect.innerHTML = placeholder;
            points.forEach(point => {
                const optionA = document.createElement('div');
                optionA.setAttribute('data-value', point.value);
                optionA.innerText = point.original;
                optionA.onclick = () => selectDropdownItem('pointA', point.original, point.value);
                pointASelect.appendChild(optionA);
                const optionB = document.createElement('div');
                optionB.setAttribute('data-value', point.value);
                optionB.innerText = point.original;
                optionB.onclick = () => selectDropdownItem('pointB', point.original, point.value);
                pointBSelect.appendChild(optionB);
            });
        }
        
        function updateDisplay() {
            renderPoints();
            updatePointsList();
            updateSelects();
        }
        
        function selectDropdownItem(selectId, text, value) {
            const selectedDiv = document.getElementById(`${selectId}-selected`);
            selectedDiv.innerText = text;
            selectedDiv.setAttribute('data-value', value);
            const itemsDiv = document.getElementById(`${selectId}-items`);
            itemsDiv.classList.remove('show');
        }
        
        document.querySelectorAll('.custom-select').forEach(select => {
            select.addEventListener('click', function(e) {
                e.stopPropagation();
                document.querySelectorAll('.select-items').forEach(item => {
                    if (item.id !== this.querySelector('.select-items').id) {
                        item.classList.remove('show');
                    }
                });
                this.querySelector('.select-items').classList.toggle('show');
            });
        });
        
        window.addEventListener('click', function(e) {
            if (!e.target.closest('.custom-select')) {
                document.querySelectorAll('.select-items').forEach(item => {
                    item.classList.remove('show');
                });
            }
        });

        // Comentario: El último paso es inicializar todo. Aseguramos que el
        // console.log sea descriptivo para mostrar que el proceso se completó.
        console.log('¡Listo! La aplicación ha sido inicializada y está lista para ser usada.');
        updateDisplay();
    </script>
</body></html>